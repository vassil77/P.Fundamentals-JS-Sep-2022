коригирайте следните 2 неща:

ред 39:    if (herosInfo[currentName].manaPoints >= 0) {

между ред 42 и 43 вмъкнете следния ред:

herosInfo[currentName].manaPoints += currentPoints;  //New line


и ще имате 100/100
При ред 39 грешката е знака ">" който трябва да е ">="
Новия ред го добавям защото Алгоритъма(логиката е грешна) и така най-кратко възстановяваме MP при случая когато няма достатъчно MP за заклинанието
